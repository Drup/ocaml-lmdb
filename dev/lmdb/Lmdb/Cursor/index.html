<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cursor (lmdb.Lmdb.Cursor)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">lmdb</a> &#x00BB; <a href="../index.html">Lmdb</a> &#x00BB; Cursor</nav><h1>Module <code>Lmdb.Cursor</code></h1><p>Iterators over maps.</p><nav class="toc"><ul><li><a href="#modification">Modification</a></li><li><a href="#reading">Reading</a><ul><li><a href="#seeking">Seeking</a></li><li><a href="#moving">Moving</a><ul><li><a href="#moving-over-all-key-value-pairs">Moving over all key-value pairs</a></li><li><a href="#moving-to-neighboring-keys">Moving to neighboring keys</a></li><li><a href="#moving-over-duplicates-of-a-single-key">Moving over duplicates of a single key</a></li><li><a href="#moving-over-keys-getting-all-duplicates">Moving over keys getting all duplicates</a></li></ul></li></ul></li><li><a href="#convenient-iterators">Convenient Iterators</a></li></ul></nav></header><aside><p>A cursor allows to iterate manually on the map. Every cursor implicitely uses a transaction.</p></aside><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>('key, 'value, -'perm, -'dup) t</span></code><code> <span class="keyword">constraint</span> <span class="type-var">'perm</span> = <span>[&lt; `Read <span>| `Write</span> ]</span> <span class="keyword">constraint</span> <span class="type-var">'dup</span> = <span>[&lt; `Dup <span>| `Uni</span> ]</span></code></dt><dd><p>A cursor inherits two phantom types: the <code>[&lt; `Read | `Write ]</code> permissions from the transaction and the <code>[&lt; `Dup | `Uni ]</code> support from the map.</p></dd></dl><dl><dt class="spec value" id="val-go"><a href="#val-go" class="anchor"></a><code><span class="keyword">val</span> go : <span><span class="type-var">'perm</span> <a href="../index.html#type-perm">perm</a></span> <span>&#45;&gt;</span> <span>?&#8288;txn:<span><span class="type-var">'perm</span> <a href="../Txn/index.html#type-t">Txn.t</a></span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span class="type-var">'perm</span>, <span class="type-var">'dup</span>)</span> <a href="../Map/index.html#type-t">Map.t</a></span> <span>&#45;&gt;</span> <span>(<span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span class="type-var">'perm</span>, <span class="type-var">'dup</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span></code></dt><dd><p><code>go perm map ?txn f</code> makes a cursor in the transaction <code>txn</code> using the function <code>f cursor</code>.</p><p>The function <code>f</code> will receive the <code>cursor</code>. A cursor can only be created and used inside a transaction. The cursor inherits the permissions of the transaction. The cursor should not be leaked outside of <code>f</code>.</p><p>Here is an example that returns the first 5 elements of a <code>map</code>:</p><pre><code class="ml">go ro map begin fun c -&gt;
let h = first c in
let rec aux i =
  if i &lt; 5 then next c :: aux (i+1)
  else []
in
h :: aux 1
end</code></pre><dl><dt>parameter txn</dt><dd><p>if omitted a transient transaction will implicitely be created before calling <code>f</code> and be committed after <code>f</code> returns. Such a transient transaction may be aborted using <a href="index.html#val-abort"><code>abort</code></a>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-abort"><a href="#val-abort" class="anchor"></a><code><span class="keyword">val</span> abort : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>abort cursor</code> aborts <code>cursor</code> and the current <code>go</code> function, which will return <code>None</code>.</p><dl><dt>raises Invalid_argument</dt><dd><p>if a transaction <code>~txn</code> was passed to the <code>go</code> function.</p></dd></dl></dd></dl><section><header><h3 id="modification"><a href="#modification" class="anchor"></a>Modification</h3></header><div class="spec module" id="module-Flags"><a href="#module-Flags" class="anchor"></a><code><span class="keyword">module</span> Flags = <a href="../../Lmdb__/Lmdb_bindings/index.html#module-PutFlags">Lmdb__.Lmdb_bindings.PutFlags</a></code></div><dl><dt class="spec value" id="val-put"><a href="#val-put" class="anchor"></a><code><span class="keyword">val</span> put : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read <span>| `Write</span> ]</span>, <span class="type-var">'dup</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>?&#8288;flags:<a href="../../Lmdb__Lmdb_bindings/PutFlags/index.html#type-t">Flags.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'value</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>put cursor key value</code> adds <code>value</code> to <code>key</code> and moves the cursor to its position.</p><p>For a map not supporting duplicates an existing value is overwritten. For a map supporting duplicates the value is added to the key.</p><dl><dt>parameter flags</dt><dd><p><a href="Flags/index.html"><code>Flags</code></a></p></dd></dl><dl><dt>raises Exists</dt><dd><p>if the key or key-value pair is already in the map and <a href="../../Lmdb__Lmdb_bindings/PutFlags/index.html#val-no_overwrite"><code>Map.Flags.no_overwrite</code></a> or <a href="../../Lmdb__Lmdb_bindings/PutFlags/index.html#val-no_dup_data"><code>Map.Flags.no_dup_data</code></a> was passed in <code>flags</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-replace"><a href="#val-replace" class="anchor"></a><code><span class="keyword">val</span> replace : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read <span>| `Write</span> ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'value</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>replace cursor value</code> replace the current value by <code>value</code>.</p></dd></dl><dl><dt class="spec value" id="val-remove"><a href="#val-remove" class="anchor"></a><code><span class="keyword">val</span> remove : <span>?&#8288;all:bool</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read <span>| `Write</span> ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>remove cursor</code> removes the current binding.</p><dl><dt>parameter all</dt><dd><p>If <code>true</code> removes all the bindings associated to the current key. Default is <code>false</code>.</p></dd></dl></dd></dl></section><section><header><h3 id="reading"><a href="#reading" class="anchor"></a>Reading</h3></header><dl><dt class="spec value" id="val-current"><a href="#val-current" class="anchor"></a><code><span class="keyword">val</span> current : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span class="type-var">'value</span></code></dt><dd><p><code>current cursor</code> returns key and value at the position of the cursor.</p></dd></dl><dl><dt class="spec value" id="val-current_all"><a href="#val-current_all" class="anchor"></a><code><span class="keyword">val</span> current_all : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span><span class="type-var">'value</span> array</span></code></dt><dd><p><code>current_all cursor</code> moves the cursor to the <em>last</em> value of the <em>current</em> key. Returns key and all values of the current key.</p></dd></dl><dl><dt class="spec value" id="val-count"><a href="#val-count" class="anchor"></a><code><span class="keyword">val</span> count : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> int</code></dt><dd><p><code>count cursor</code> returns the number of values bound to the current key.</p></dd></dl><section><header><h4 id="seeking"><a href="#seeking" class="anchor"></a>Seeking</h4></header><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'value</span></code></dt><dd><p><code>get cursor key</code> moves the cursor to the <em>first</em> value of <code>key</code>.</p></dd></dl><dl><dt class="spec value" id="val-get_all"><a href="#val-get_all" class="anchor"></a><code><span class="keyword">val</span> get_all : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> <span>&#45;&gt;</span> <span><span class="type-var">'value</span> array</span></code></dt><dd><p><code>get_all cursor key</code> moves the cursor to the <em>last</em> value of <code>key</code>. Returns all values of <code>key</code>.</p></dd></dl><dl><dt class="spec value" id="val-seek"><a href="#val-seek" class="anchor"></a><code><span class="keyword">val</span> seek : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span class="type-var">'value</span></code></dt><dd><p><code>seek cursor key</code> moves the cursor to the first value of <code>key</code>.</p></dd></dl><dl><dt class="spec value" id="val-seek_all"><a href="#val-seek_all" class="anchor"></a><code><span class="keyword">val</span> seek_all : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span><span class="type-var">'value</span> array</span></code></dt><dd><p><code>seek_all cursor key</code> moves the cursor to the <em>last</em> value of <code>key</code>. Returns all values of <code>key</code>.</p></dd></dl><dl><dt class="spec value" id="val-seek_range"><a href="#val-seek_range" class="anchor"></a><code><span class="keyword">val</span> seek_range : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span class="type-var">'value</span></code></dt><dd><p><code>seek_range cursor key</code> moves the cursor to the <em>first</em> value of the first key greater than or equal to <code>key</code>.</p></dd></dl><dl><dt class="spec value" id="val-seek_range_all"><a href="#val-seek_range_all" class="anchor"></a><code><span class="keyword">val</span> seek_range_all : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span><span class="type-var">'value</span> array</span></code></dt><dd><p><code>seek_range_all cursor key</code> moves the cursor to the <em>last</em> value of the first key greater than or equal to <code>key</code>. Returns all values of this key.</p></dd></dl><dl><dt class="spec value" id="val-seek_dup"><a href="#val-seek_dup" class="anchor"></a><code><span class="keyword">val</span> seek_dup : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'value</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>seek_dup cursor key value</code> moves the cursor to <code>value</code> of <code>key</code>.</p></dd></dl><dl><dt class="spec value" id="val-seek_range_dup"><a href="#val-seek_range_dup" class="anchor"></a><code><span class="keyword">val</span> seek_range_dup : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'value</span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span class="type-var">'value</span></code></dt><dd><p><code>seek_range_dup cursor key value</code> moves the cursor to the first value greater than or equal to <code>value</code> of the first key greater than or equal to <code>key</code>.</p></dd></dl></section><section><header><h4 id="moving"><a href="#moving" class="anchor"></a>Moving</h4></header><section><header><h5 id="moving-over-all-key-value-pairs"><a href="#moving-over-all-key-value-pairs" class="anchor"></a>Moving over all key-value pairs</h5></header><dl><dt class="spec value" id="val-first"><a href="#val-first" class="anchor"></a><code><span class="keyword">val</span> first : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span class="type-var">'value</span></code></dt><dd><p><code>first cursor</code> moves the cursor to the <em>first</em> value of the first key.</p></dd></dl><dl><dt class="spec value" id="val-last"><a href="#val-last" class="anchor"></a><code><span class="keyword">val</span> last : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span class="type-var">'value</span></code></dt><dd><p><code>last cursor</code> moves the cursor to the <em>last</em> value of the last key.</p></dd></dl><dl><dt class="spec value" id="val-next"><a href="#val-next" class="anchor"></a><code><span class="keyword">val</span> next : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span class="type-var">'value</span></code></dt><dd><p><code>next cursor</code> moves the cursor to the next key-value pair. This may be the <em>next value</em> of the <em>current key</em> or the <em>first value</em> of the <em>next key</em>.</p></dd></dl><dl><dt class="spec value" id="val-prev"><a href="#val-prev" class="anchor"></a><code><span class="keyword">val</span> prev : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span class="type-var">'value</span></code></dt><dd><p><code>prev cursor</code> moves the cursor to the previous key-value pair. This may be the <em>previous value</em> of the <em>current key</em> or the <em>last value</em> of the <em>previous key</em>.</p></dd></dl></section><section><header><h5 id="moving-to-neighboring-keys"><a href="#moving-to-neighboring-keys" class="anchor"></a>Moving to neighboring keys</h5></header><dl><dt class="spec value" id="val-next_nodup"><a href="#val-next_nodup" class="anchor"></a><code><span class="keyword">val</span> next_nodup : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span class="type-var">'value</span></code></dt><dd><p><code>next_nodup cursor</code> moves the cursor to the <em>first</em> value of the next key.</p></dd></dl><dl><dt class="spec value" id="val-prev_nodup"><a href="#val-prev_nodup" class="anchor"></a><code><span class="keyword">val</span> prev_nodup : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span class="type-var">'value</span></code></dt><dd><p><code>prev_nodup cursor</code> moves the cursor to the <em>last</em> value of the previous key.</p></dd></dl></section><section><header><h5 id="moving-over-duplicates-of-a-single-key"><a href="#moving-over-duplicates-of-a-single-key" class="anchor"></a>Moving over duplicates of a single key</h5></header><dl><dt class="spec value" id="val-first_dup"><a href="#val-first_dup" class="anchor"></a><code><span class="keyword">val</span> first_dup : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'value</span></code></dt><dd><p><code>first_dup cursor</code> moves the cursor to the first <em>value</em> of the current key.</p></dd></dl><dl><dt class="spec value" id="val-last_dup"><a href="#val-last_dup" class="anchor"></a><code><span class="keyword">val</span> last_dup : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'value</span></code></dt><dd><p><code>last_dup cursor</code> moves the cursor to the last <em>value</em> of the current key.</p></dd></dl><dl><dt class="spec value" id="val-next_dup"><a href="#val-next_dup" class="anchor"></a><code><span class="keyword">val</span> next_dup : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'value</span></code></dt><dd><p><code>next_dup cursor</code> moves the cursor to the next value of the current key.</p><dl><dt>raises Not_found</dt><dd><p>if the cursor is already on the last value of the current key.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-prev_dup"><a href="#val-prev_dup" class="anchor"></a><code><span class="keyword">val</span> prev_dup : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'value</span></code></dt><dd><p><code>prev_dup cursor</code> moves the cursor to the previous value of the current key.</p><dl><dt>raises Not_found</dt><dd><p>if the cursor is already on the first value of the current key.</p></dd></dl></dd></dl></section><section><header><h5 id="moving-over-keys-getting-all-duplicates"><a href="#moving-over-keys-getting-all-duplicates" class="anchor"></a>Moving over keys getting all duplicates</h5></header><dl><dt class="spec value" id="val-first_all"><a href="#val-first_all" class="anchor"></a><code><span class="keyword">val</span> first_all : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span><span class="type-var">'value</span> array</span></code></dt><dd><p><code>first_all cursor</code> moves the cursor to the <em>last</em> value of the first key. Returns all values of the first key.</p></dd></dl><dl><dt class="spec value" id="val-last_all"><a href="#val-last_all" class="anchor"></a><code><span class="keyword">val</span> last_all : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span><span class="type-var">'value</span> array</span></code></dt><dd><p><code>last_all cursor</code> moves the cursor to the <em>first</em> value of the last key. Returns all values of the <em>last</em> key.</p></dd></dl><dl><dt class="spec value" id="val-next_all"><a href="#val-next_all" class="anchor"></a><code><span class="keyword">val</span> next_all : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span><span class="type-var">'value</span> array</span></code></dt><dd><p><code>next_all cursor</code> moves the cursor to the <em>last</em> value of the next key. Returns all values of the next key.</p></dd></dl><dl><dt class="spec value" id="val-prev_all"><a href="#val-prev_all" class="anchor"></a><code><span class="keyword">val</span> prev_all : <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span>, <span>[&gt; `Dup ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'key</span> * <span><span class="type-var">'value</span> array</span></code></dt><dd><p><code>prev_all cursor</code> moves the cursor to the <em>first</em> value of the previous key. Returns all values of the previous key.</p></dd></dl></section></section></section><section><header><h3 id="convenient-iterators"><a href="#convenient-iterators" class="anchor"></a>Convenient Iterators</h3></header><aside><p>Call <code>f</code> once for each key-value pair. Will call <code>f</code> multiple times with the same key for duplicates</p></aside><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : <span>?&#8288;cursor:<span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span> <span class="keyword">as</span> perm, <span class="type-var">'dup</span>)</span> <a href="index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'value</span> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span class="type-var">'perm</span>, <span class="type-var">'dup</span>)</span> <a href="../Map/index.html#type-t">Map.t</a></span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-iter_rev"><a href="#val-iter_rev" class="anchor"></a><code><span class="keyword">val</span> iter_rev : <span>?&#8288;cursor:<span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span> <span class="keyword">as</span> perm, <span class="type-var">'dup</span>)</span> <a href="index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'value</span> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span class="type-var">'perm</span>, <span class="type-var">'dup</span>)</span> <a href="../Map/index.html#type-t">Map.t</a></span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fold_left"><a href="#val-fold_left" class="anchor"></a><code><span class="keyword">val</span> fold_left : <span>?&#8288;cursor:<span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span> <span class="keyword">as</span> perm, <span class="type-var">'dup</span>)</span> <a href="index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'value</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span class="type-var">'perm</span>, <span class="type-var">'dup</span>)</span> <a href="../Map/index.html#type-t">Map.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-fold_right"><a href="#val-fold_right" class="anchor"></a><code><span class="keyword">val</span> fold_right : <span>?&#8288;cursor:<span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span> <span class="keyword">as</span> perm, <span class="type-var">'dup</span>)</span> <a href="index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'value</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span class="type-var">'perm</span>, <span class="type-var">'dup</span>)</span> <a href="../Map/index.html#type-t">Map.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><aside><p>Call <code>f</code> once for each key passing the key and <em>all</em> associated values.</p></aside><dl><dt class="spec value" id="val-iter_all"><a href="#val-iter_all" class="anchor"></a><code><span class="keyword">val</span> iter_all : <span>?&#8288;cursor:<span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span> <span class="keyword">as</span> perm, <span class="type-var">'dup</span>)</span> <a href="index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'key</span> <span>&#45;&gt;</span> <span><span class="type-var">'value</span> array</span> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span class="type-var">'perm</span>, <span>[&gt; `Dup ]</span> <span class="keyword">as</span> dup)</span> <a href="../Map/index.html#type-t">Map.t</a></span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-iter_rev_all"><a href="#val-iter_rev_all" class="anchor"></a><code><span class="keyword">val</span> iter_rev_all : <span>?&#8288;cursor:<span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span> <span class="keyword">as</span> perm, <span class="type-var">'dup</span>)</span> <a href="index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'key</span> <span>&#45;&gt;</span> <span><span class="type-var">'value</span> array</span> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span class="type-var">'perm</span>, <span>[&gt; `Dup ]</span> <span class="keyword">as</span> dup)</span> <a href="../Map/index.html#type-t">Map.t</a></span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fold_left_all"><a href="#val-fold_left_all" class="anchor"></a><code><span class="keyword">val</span> fold_left_all : <span>?&#8288;cursor:<span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span> <span class="keyword">as</span> perm, <span class="type-var">'dup</span>)</span> <a href="index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'key</span> <span>&#45;&gt;</span> <span><span class="type-var">'value</span> array</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span class="type-var">'perm</span>, <span>[&gt; `Dup ]</span> <span class="keyword">as</span> dup)</span> <a href="../Map/index.html#type-t">Map.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-fold_right_all"><a href="#val-fold_right_all" class="anchor"></a><code><span class="keyword">val</span> fold_right_all : <span>?&#8288;cursor:<span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span>[&gt; `Read ]</span> <span class="keyword">as</span> perm, <span class="type-var">'dup</span>)</span> <a href="index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'key</span> <span>&#45;&gt;</span> <span><span class="type-var">'value</span> array</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>, <span class="type-var">'perm</span>, <span>[&gt; `Dup ]</span> <span class="keyword">as</span> dup)</span> <a href="../Map/index.html#type-t">Map.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl></section></div></body></html>